(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{74:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return o})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),i=(n(0),n(87)),s={id:"scn_gene_signature_search",title:"scNavigator: gene signature search"},o={unversionedId:"scn_gene_signature_search",id:"scn_gene_signature_search",isDocsHomePage:!1,title:"scNavigator: gene signature search",description:"This section describes how to include your dataset into the database of gene signature search.",source:"@site/docs/modules.md",slug:"/scn_gene_signature_search",permalink:"/scn/docs/docs/scn_gene_signature_search",editUrl:"https://github.com/ctlab/scNavigator/edit/master/scn_docs/docs/modules.md",version:"current",sidebar:"docs",previous:{title:"scNavigator: markers file",permalink:"/scn/docs/docs/scn_markers"},next:{title:"scNavigator files folder",permalink:"/scn/docs/docs/scn_dataset_files"}},l=[{value:"Gene signature search files",id:"gene-signature-search-files",children:[]},{value:"<code>species.module.gmt</code>",id:"speciesmodulegmt",children:[]},{value:"<code>modules.annotation.json</code>",id:"modulesannotationjson",children:[{value:"Helpful links",id:"helpful-links",children:[]}]}],c={toc:l};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"This section describes how to include your dataset into the database of gene signature search.\nDatabase consists of many gene sets (we call them modules) of markers for specific populations in scRNA-seq datasets.\nSo any dataset of scRNA-seq we can generate several dozens of modules: gene sets that describe specific single-cell\npopulation in the datasets."),Object(i.b)("p",null,"Given a query gene set Gene Signature Search utilizes hypergeometric test to test overlap of genes in the query with\nevery single module present in the database and reports p-values after adjustment for multiple hypotheses."),Object(i.b)("h2",{id:"gene-signature-search-files"},"Gene signature search files"),Object(i.b)("p",null,"To include some gene sets from your dataset in gene signature search you must prepare two files:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("inlineCode",{parentName:"li"},"species.modules.gmt")," where ",Object(i.b)("inlineCode",{parentName:"li"},"species")," are ",Object(i.b)("inlineCode",{parentName:"li"},"hs"),", ",Object(i.b)("inlineCode",{parentName:"li"},"mm")," or ",Object(i.b)("inlineCode",{parentName:"li"},"rn"),", the species your dataset is coming from."),Object(i.b)("li",{parentName:"ol"},Object(i.b)("inlineCode",{parentName:"li"},"modules.annotation.json")," which will contain some of the information to be shown in the results table")),Object(i.b)("p",null,"Let's first explain some terminology. You processed the dataset of scRNA-seq data, and you performed\ndifferential expression and found markers for each of your populations."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"}," Universe ")," - is the set of genes expressed in your dataset. There many lowly expressed genes\nthat are not going to be detected in your dataset, which we would not want to affect test results.\nIt's only appropriate for our test to only calculate overlap in the universe of expressed genes."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"}," Module ")," - is a gene set associated with one (or several) population in your scRNA-seq dataset.\nModule can be genes from results of differential expression between clusters, can be genes that are associated\nwith pseudotime and so on. It's up to you to decide what information you associate with the module."),Object(i.b)("h2",{id:"speciesmodulegmt"},Object(i.b)("inlineCode",{parentName:"h2"},"species.module.gmt")),Object(i.b)("p",null,"GMT file has to have a following 3-column structure:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Identifier of the module"),Object(i.b)("li",{parentName:"ol"},"Identifier of the universe"),Object(i.b)("li",{parentName:"ol"},"Comma separated ENTREZ ids of the genes in the module")),Object(i.b)("p",null,"For the universe first two columns must have equal identifiers. Universes will not be used to test against using\nhypergeometric test."),Object(i.b)("p",null,"Below is the example of the valid ",Object(i.b)("inlineCode",{parentName:"p"},"mm.modules.gmt")," (we truncated the first line, since universes tend to be quite large):"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-text"},"SRS1913123_UNIVERSE SRS1913123_UNIVERSE 11287,11302,11303,11304,11305,11306,11307,11308,11350,11352,11363,11364,11370,11409,11416,11418,11419,11421,11423,11425,11426,11428,11429,11430,11431,11432,11433,11435,11438,11441,11443...\nSRS1913123#markers0.6#0 SRS1913123_UNIVERSE 11676,11747,11758,11816,12192,12876,12971,13010,13167,13653,14281,14319,14609,14758,14862,15205,15904,16007,16432,16476,17748,17750,18111,18212,19231,19242,20200,20674,20682,22352,64294,67945,103712,170790,192216,237759\nSRS1913123#markers0.6#1 SRS1913123_UNIVERSE 11426,13518,22589,64009,226562,258762,319317,100463512\nSRS1913123#markers0.6#2 SRS1913123_UNIVERSE 11820,11931,12069,12313,12314,12903,14387,14432,14704,15516,16210,16765,17984,18197,19711,20254,20257,20262,20614,20646,20979,21334,22129,22223,22629,30052,52696,52837,52906,53328,58243,65113,66995,68566,69694,72693,74511,104001,108013,227325,243339,319317,434128\nSRS1913123#markers0.6#4 SRS1913123_UNIVERSE 11931,14432,18976,19711,20254,20257,22129,27220,52906,58243,104001\nSRS1913123#markers0.6#5 SRS1913123_UNIVERSE 11604,12705,19711,69694,74511,109648\nSRS1913123#markers0.6#6 SRS1913123_UNIVERSE 11461,11465,12140,12443,12527,12709,12799,12805,13167,14360,14758,17118,17196,18595,18606,18823,19283,19317,20193,20196,20203,20284,20720,21960,22142,22608,23829,29873,50913,50914,52589,54377,56434,64383,67092,67801,67860,73710,76960,76982,171469,233271,235072,269629,270106,320981,574402\nSRS1913123#markers0.6#7 SRS1913123_UNIVERSE 11606,11676,11816,11829,11932,12032,12140,12520,12709,12759,12876,13010,13167,13602,13618,14609,14645,15902,16426,16513,17748,18217,19156,19283,20250,20255,20511,20512,20692,20720,27226,29811,54403,57776,67916,74205,75104,98660,108686,170790,171469,216739,233271,243616\n...\n")),Object(i.b)("h2",{id:"modulesannotationjson"},Object(i.b)("inlineCode",{parentName:"h2"},"modules.annotation.json")),Object(i.b)("p",null,"Second file contains annotation for the modules that is presented in results of gene signature search. In this JSON\nobject you will have fields with names corresponding to modules from GMT-file. Required fields are:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"token")," this on is required, so we can automatically open the dataset from which the similar signature came from"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"name")," that is shown in the results. In our case name is the same as the dataset, however, you could put cluster ID into the name"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"title")," is shown next after the name. Title might have more descriptive information about the dataset and the module."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"species")," species of the module"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"link")," field is for external links (if exist) to outside databases or papers.")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n  "SRS1913123_UNIVERSE": {\n    "token": "SRS1913123",\n    "name": "GSE93374/SRS1913123",\n    "title": " A Molecular Census of Arcuate Hypothalamus and Median Eminence Cell Types",\n    "species": "mm",\n    "link": "https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE93374"\n  },\n  "SRS1913123#markers0.6#0": {\n    "token": "SRS1913123",\n    "name": "GSE93374/SRS1913123",\n    "title": " A Molecular Census of Arcuate Hypothalamus and Median Eminence Cell Types",\n    "species": "mm",\n    "link": "https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE93374"\n  },\n  "SRS1913123#markers0.6#1": {\n    "token": "SRS1913123",\n    "name": "GSE93374/SRS1913123",\n    "title": " A Molecular Census of Arcuate Hypothalamus and Median Eminence Cell Types",\n    "species": "mm",\n    "link": "https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE93374"\n  },\n  "SRS1913123#markers0.6#2": {\n    "token": "SRS1913123",\n    "name": "GSE93374/SRS1913123",\n    "title": " A Molecular Census of Arcuate Hypothalamus and Median Eminence Cell Types",\n    "species": "mm",\n    "link": "https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE93374"\n  },\n  ...\n} \n')),Object(i.b)("h3",{id:"helpful-links"},"Helpful links"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Hypergeometric distribution ",Object(i.b)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Hypergeometric_distribution"},"https://en.wikipedia.org/wiki/Hypergeometric_distribution"))))}u.isMDXComponent=!0},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),u=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=u(n),m=a,b=p["".concat(s,".").concat(m)]||p[m]||d[m]||i;return n?r.a.createElement(b,o(o({ref:t},c),{},{components:n})):r.a.createElement(b,o({ref:t},c))}));function b(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,s=new Array(i);s[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,s[1]=o;for(var c=2;c<i;c++)s[c]=n[c];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);